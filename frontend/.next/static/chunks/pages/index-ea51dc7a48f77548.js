(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2936:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(8786)}])},8786:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(7876),r=s(7328),n=s.n(r),i=s(4232);let c=s(1040).A.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}}),l={getAll:async()=>(await c.get("/receipts")).data,delete:async e=>(await c.delete("/receipts/".concat(e))).data},d=async()=>(await c.get("/health")).data;function o(){let[e,t]=(0,i.useState)([]),[s,r]=(0,i.useState)(!0),[c,o]=(0,i.useState)(null),[h,x]=(0,i.useState)(null),m=async()=>{try{r(!0);let e=await l.getAll();t(e),o(null)}catch(e){console.error("Error fetching receipts:",e),o("Failed to fetch receipts. Make sure the backend is running.")}finally{r(!1)}},g=async()=>{try{let e=await d();x(e)}catch(e){x({status:"error",message:"Backend is not reachable"})}};(0,i.useEffect)(()=>{g(),m()},[]);let p=async e=>{if(confirm("Are you sure you want to delete this receipt?"))try{await l.delete(e),m()}catch(e){console.error("Error deleting receipt:",e),alert("Failed to delete receipt")}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("title",{children:"Receipta - Manage Your Receipts"}),(0,a.jsx)("meta",{name:"description",content:"Receipt management application"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8 text-center",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Receipta"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Manage your receipts with ease"}),h&&(0,a.jsxs)("div",{className:"mt-4 inline-block px-4 py-2 rounded-lg ".concat("ok"===h.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:["Backend: ",h.message||h.status]})]}),c&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:c}),s?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading receipts..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("h2",{className:"text-2xl font-semibold text-gray-800",children:["Receipts (",e.length,")"]})}),0===e.length?(0,a.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg shadow-md",children:[(0,a.jsx)("p",{className:"text-gray-500 text-lg",children:"No receipts found."}),(0,a.jsx)("p",{className:"text-gray-400 mt-2",children:"Connect to the backend to start managing receipts."})]}):(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:e.title||"Untitled Receipt"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:e.description||"No description"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-lg font-bold text-green-600",children:["$",e.amount||"0.00"]}),(0,a.jsx)("button",{onClick:()=>p(e.id),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",children:"Delete"})]})]},e.id))})]})]})})]})}}},e=>{e.O(0,[149,636,593,792],()=>e(e.s=2936)),_N_E=e.O()}]);